# Server Component

## サーバー上でレンダリングする利点

- 単純に、クライアントサイドで必要な JS の量が減るため、パフォーマンス向上する
- クライアントサイドからのリクエストが減少するため、パフォーマンス向上（レンダリングが早くなるので`FCP`スコアも良くなる）
- トークンや API キーなどの機密データ・ロジックが公開されない
- レンダリング結果をサーバーサイドでキャッシュさせられるため、次回以降の（サーバー側での）データ取得やレンダリングコストが削減できる
- 部分的にレンダリングに時間がかかるコンポーネントがあっても、そこを穴にした状態でレンダリングできる

## 静的レンダリング

- デフォルトはこれ

### レンダリングタイミング

- ビルド時
- revalidate

### ユースケース

- ユーザーごとにパーソナライズされていないページ（ビルド時にわかるデータ）

- 例
  - ブログ
  - EC サイトの製品ページ

## ダイナミックレンダリング

### レンダリングタイミング

- ページリクエスト時

### ユースケース

- ユーザーごとにパーソナライズされたデータがある場合
  - 例
    - `cookie`, `URL SearchParams`等を使用する

> [!NOTE]
> 静的なコンテンツと動的なコンテンツが混在するページがほとんど。
> （マイページに製品データの表示 + ユーザーのデータを表示 など）
>
> この場合、Next.js では、このページは動的ルートとして扱われるが、Next.js がいい感じにキャッシュを使ってくれるので心配しなくてよい。

## ストリーミング

- UI レンダリング作業をチャンクに分解して、準備ができたものから表示する。
- App Router に組み込まれている。
